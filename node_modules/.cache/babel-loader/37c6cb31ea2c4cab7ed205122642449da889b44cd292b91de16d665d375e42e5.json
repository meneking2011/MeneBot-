{"ast":null,"code":"var _jsxFileName = \"/workspaces/MeneBot-/src/App.jsx\",\n  _s = $RefreshSig$();\n// ===============================\n//  APP.JS â€” PART 1/3\n// ===============================\n\nimport React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport { v4 as uuidv4 } from 'uuid';\n\n// Firebase\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, onAuthStateChanged } from \"firebase/auth\";\nimport { getFirestore, collection, query, onSnapshot, addDoc, orderBy, limit, serverTimestamp, doc, deleteDoc, writeBatch, getDocs, setDoc } from \"firebase/firestore\";\n\n// =============================================================\n//  ðŸ” API CONFIG (YOU MUST FILL IN YOUR OWN KEYS HERE)\n// =============================================================\n\n// FIREBASE PLACEHOLDER CONFIG  \n// (replace with your Firebase project's values)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FIREBASE_CONFIG = {\n  apiKey: \"AIzaSyACbU7QPgmUkvn1cmIIytlUK8FI0xBHhmE\",\n  authDomain: \"mene-bot.firebaseapp.com\",\n  projectId: \"mene-bot\",\n  storageBucket: \"mene-bot.firebasestorage.app\",\n  messagingSenderId: \"535679609146\",\n  appId: \"1:535679609146:web:750fcd7b478d93bcae8803\"\n};\n\n// GEMINI API PLACEHOLDER\nconst GEMINI_API_KEY = \"AIzaSyD0fDB4XPYTSONxvbLTUCLznwzLWWV11ys\";\n\n// MODEL\nconst MODEL_NAME = \"gemini-2.0-flash\"; // stable model\n\n// API ENDPOINT\nconst API_ENDPOINT = `https://generativelanguage.googleapis.com/v1beta/models/${MODEL_NAME}:generateContent?key=${GEMINI_API_KEY}`;\n\n// =============================================================\n//  STREAMING FIX â€” Works reliably with Gemini REST\n// =============================================================\nfunction askAIStream(userText, history) {\n  let full = null;\n  let chunks = [];\n  let idx = 0;\n  const formattedHistory = history.map(msg => ({\n    role: msg.sender === \"user\" ? \"user\" : \"model\",\n    parts: [{\n      text: msg.text\n    }]\n  }));\n  return {\n    async next() {\n      // First call â†’ fetch response\n      if (full === null) {\n        var _data$candidates, _data$candidates$, _data$candidates$$con, _data$candidates$$con2, _data$candidates$$con3;\n        const payload = {\n          contents: [...formattedHistory, {\n            role: \"user\",\n            parts: [{\n              text: userText\n            }]\n          }],\n          systemInstruction: {\n            parts: [{\n              text: \"You are Mene. Keep responses short and friendly.\"\n            }]\n          }\n        };\n        const r = await fetch(API_ENDPOINT, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(payload)\n        });\n        const data = await r.json();\n        full = (data === null || data === void 0 ? void 0 : (_data$candidates = data.candidates) === null || _data$candidates === void 0 ? void 0 : (_data$candidates$ = _data$candidates[0]) === null || _data$candidates$ === void 0 ? void 0 : (_data$candidates$$con = _data$candidates$.content) === null || _data$candidates$$con === void 0 ? void 0 : (_data$candidates$$con2 = _data$candidates$$con.parts) === null || _data$candidates$$con2 === void 0 ? void 0 : (_data$candidates$$con3 = _data$candidates$$con2[0]) === null || _data$candidates$$con3 === void 0 ? void 0 : _data$candidates$$con3.text) || \"â€¦\";\n\n        // Split into tokens\n        chunks = full.split(/(\\s+)/).filter(Boolean);\n      }\n\n      // Out of chunks?\n      if (idx >= chunks.length) {\n        return {\n          done: true,\n          value: full\n        };\n      }\n\n      // Stream 1 token\n      const token = chunks[idx++];\n      return {\n        done: false,\n        value: token\n      };\n    },\n    [Symbol.asyncIterator]() {\n      return this;\n    }\n  };\n}\n\n// =============================================================\n//  LOCAL CACHE â€” prevents reset on refresh\n// =============================================================\nconst LOCAL_KEY_LAST_SESSION = \"mene_last_session\";\n\n// =============================================================\n//  SMALL UI UTILITIES\n// =============================================================\nconst scrollSmooth = ref => {\n  var _ref$current;\n  (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.scrollIntoView({\n    behavior: \"smooth\"\n  });\n};\nexport default function App() {\n  _s();\n  // ----------------------------------------------\n  //  STATE\n  // ----------------------------------------------\n\n  const [db, setDb] = useState(null);\n  const [auth, setAuth] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [sessions, setSessions] = useState([]);\n  const [currentSessionId, setCurrentSessionId] = useState(localStorage.getItem(LOCAL_KEY_LAST_SESSION) || null);\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [isTyping, setIsTyping] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [isSidebarOpen, setIsSidebarOpen] = useState(window.innerWidth >= 768);\n\n  // STT/TTS\n  const [canSpeak, setCanSpeak] = useState(false);\n  const recognitionRef = useRef(null);\n  const messageEndRef = useRef(null);\n\n  // ----------------------------------------------\n  //  INITIALIZE FIREBASE\n  // ----------------------------------------------\n  useEffect(() => {\n    try {\n      const app = initializeApp(FIREBASE_CONFIG);\n      const firestore = getFirestore(app);\n      const authentication = getAuth(app);\n      setDb(firestore);\n      setAuth(authentication);\n      const unsub = onAuthStateChanged(authentication, async user => {\n        var _authentication$curre;\n        if (!user) {\n          await signInAnonymously(authentication);\n        }\n        setUserId((_authentication$curre = authentication.currentUser) === null || _authentication$curre === void 0 ? void 0 : _authentication$curre.uid);\n        setIsAuthReady(true);\n      });\n      return () => unsub();\n    } catch (err) {\n      console.error(\"Firebase init error:\", err);\n      setErrorMessage(\"Firebase initialization failed.\");\n    }\n  }, []);\n\n  // ----------------------------------------------\n  //  MORE CODE CONTINUES IN PART 2â€¦\n  // ----------------------------------------------\n\n  // ===============================\n  //  APP.JS â€” PART 2/3\n  // ===============================\n\n  // ----------------------------------------------\n  //  LOAD SESSIONS\n  // ----------------------------------------------\n  useEffect(() => {\n    if (!db || !userId) return;\n    const ref = collection(db, \"users\", userId, \"sessions\");\n    const q = query(ref, orderBy(\"createdAt\", \"desc\"));\n    const unsub = onSnapshot(q, snap => {\n      const arr = snap.docs.map(d => ({\n        id: d.id,\n        ...d.data()\n      }));\n      setSessions(arr);\n\n      // Pick a session automatically\n      if (!currentSessionId && arr.length > 0) {\n        setCurrentSessionId(arr[0].id);\n        localStorage.setItem(LOCAL_KEY_LAST_SESSION, arr[0].id);\n      }\n\n      // If no sessions exist â†’ create one\n      if (arr.length === 0) createSession();\n    });\n    return () => unsub();\n  }, [db, userId]);\n\n  // ----------------------------------------------\n  //  LOAD MESSAGES FOR CURRENT SESSION\n  // ----------------------------------------------\n  useEffect(() => {\n    if (!db || !userId || !currentSessionId) {\n      setMessages([]);\n      return;\n    }\n    const ref = collection(db, \"users\", userId, \"sessions\", currentSessionId, \"messages\");\n    const q = query(ref, orderBy(\"createdAt\", \"asc\"), limit(50));\n    const unsub = onSnapshot(q, snap => {\n      const arr = snap.docs.map(d => ({\n        id: d.id,\n        sender: d.data().sender,\n        text: d.data().text\n      }));\n      setMessages(arr);\n      scrollSmooth(messageEndRef);\n    });\n    return () => unsub();\n  }, [db, userId, currentSessionId]);\n\n  // ----------------------------------------------\n  //  CREATE NEW SESSION\n  // ----------------------------------------------\n  const createSession = useCallback(async () => {\n    if (!db || !userId) return;\n    const ref = collection(db, \"users\", userId, \"sessions\");\n    const newRef = doc(ref);\n    await setDoc(newRef, {\n      name: \"New Chat\",\n      createdAt: serverTimestamp()\n    });\n    setCurrentSessionId(newRef.id);\n    localStorage.setItem(LOCAL_KEY_LAST_SESSION, newRef.id);\n    setIsSidebarOpen(false);\n  }, [db, userId]);\n\n  // ----------------------------------------------\n  //  DELETE A SESSION\n  // ----------------------------------------------\n  const deleteSession = async id => {\n    if (!db || !userId) return;\n    if (!window.confirm(\"Delete this conversation?\")) return;\n    const sessionRef = doc(db, \"users\", userId, \"sessions\", id);\n    const messagesRef = collection(db, \"users\", userId, \"sessions\", id, \"messages\");\n    const batch = writeBatch(db);\n    const msgDocs = await getDocs(messagesRef);\n    msgDocs.forEach(d => batch.delete(d.ref));\n    batch.delete(sessionRef);\n    await batch.commit();\n\n    // Switch to another session\n    const remaining = sessions.filter(s => s.id !== id);\n    if (remaining.length > 0) {\n      setCurrentSessionId(remaining[0].id);\n      localStorage.setItem(LOCAL_KEY_LAST_SESSION, remaining[0].id);\n    } else {\n      setCurrentSessionId(null);\n      localStorage.removeItem(LOCAL_KEY_LAST_SESSION);\n      createSession();\n    }\n  };\n\n  // ----------------------------------------------\n  //  SAVE MESSAGE\n  // ----------------------------------------------\n  const saveMessage = async (sender, text) => {\n    if (!db || !userId || !currentSessionId) return;\n    const ref = collection(db, \"users\", userId, \"sessions\", currentSessionId, \"messages\");\n    await addDoc(ref, {\n      sender,\n      text,\n      createdAt: serverTimestamp()\n    });\n  };\n\n  // ----------------------------------------------\n  //  SEND MESSAGE (STREAMING Gemini)\n  // ----------------------------------------------\n  const handleSend = useCallback(async (manualText = null) => {\n    let text = manualText || input.trim();\n    if (!text) return;\n    setInput(\"\");\n    setIsTyping(true);\n    setErrorMessage(\"\");\n    await saveMessage(\"user\", text);\n    let botText = \"\";\n    const tempId = uuidv4();\n    setMessages(prev => [...prev, {\n      id: tempId,\n      sender: \"bot\",\n      text: \"\"\n    }]);\n    const stream = askAIStream(text, messages);\n    try {\n      for await (const chunk of stream) {\n        botText += chunk;\n        setMessages(prev => prev.map(m => m.id === tempId ? {\n          ...m,\n          text: botText\n        } : m));\n      }\n    } catch (err) {\n      botText = \"Error generating response.\";\n    }\n    setIsTyping(false);\n    await saveMessage(\"bot\", botText);\n  }, [input, messages, currentSessionId, db, userId]);\n\n  // ----------------------------------------------\n  //  SPEECH-TO-TEXT (WhatsApp style mic)\n  // ----------------------------------------------\n  useEffect(() => {\n    if (!(\"webkitSpeechRecognition\" in window)) return;\n    const rec = new window.webkitSpeechRecognition();\n    rec.continuous = false;\n    rec.interimResults = false;\n    rec.lang = \"en-US\";\n    rec.onresult = e => {\n      const text = e.results[0][0].transcript;\n      handleSend(text);\n    };\n    rec.onerror = e => console.error(\"STT error:\", e.error);\n    recognitionRef.current = rec;\n    setCanSpeak(true);\n  }, []);\n  const startListening = () => {\n    if (!recognitionRef.current) return;\n    try {\n      recognitionRef.current.start();\n    } catch (e) {}\n  };\n\n  // ----------------------------------------------\n  //  TEXT-TO-SPEECH\n  // ----------------------------------------------\n  const speak = text => {\n    if (!window.speechSynthesis) return;\n    const u = new SpeechSynthesisUtterance(text);\n    u.lang = \"en-US\";\n    speechSynthesis.speak(u);\n  };\n\n  // ----------------------------------------------\n  //  SIDEBAR COMPONENT\n  // ----------------------------------------------\n  const Sidebar = ({\n    sessions,\n    currentSessionId,\n    switchSession,\n    createSession,\n    deleteSession\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-64 h-full bg-gray-50 border-r border-gray-200 p-4 flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-bold\",\n        children: \"Chats\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-green-500 text-white px-2 py-1 rounded\",\n        onClick: createSession,\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-y-auto space-y-2\",\n      children: sessions.map(s => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => switchSession(s.id),\n        className: `p-3 rounded cursor-pointer ${s.id === currentSessionId ? \"bg-green-200 font-semibold\" : \"bg-white hover:bg-gray-200\"}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: s.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"text-red-600\",\n            onClick: e => {\n              e.stopPropagation();\n              deleteSession(s.id);\n            },\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 21\n        }, this)\n      }, s.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 17\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 387,\n    columnNumber: 5\n  }, this);\n\n  // ----------------------------------------------\n  //  HEADER COMPONENT\n  // ----------------------------------------------\n  const Header = () => {\n    var _sessions$find;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 bg-green-600 text-white flex justify-between items-center shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"md:hidden p-2 bg-green-700 rounded\",\n        onClick: () => setIsSidebarOpen(!isSidebarOpen),\n        children: \"\\u2630\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"font-bold text-lg\",\n        children: \"Mene AI\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hidden md:block text-sm opacity-75\",\n        children: [\"Session: \", ((_sessions$find = sessions.find(s => s.id === currentSessionId)) === null || _sessions$find === void 0 ? void 0 : _sessions$find.name) || \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 5\n    }, this);\n  };\n\n  // ----------------------------------------------\n  // PART 3/3 WILL CONTAIN:\n  // - Final JSX Layout\n  // - Message list\n  // - Input area\n  // - CSS + Tailwind tweaks\n  // ----------------------------------------------\n\n  // ===============================\n  // APP.JS â€” PART 3/3 (FINAL)\n  // ===============================\n\n  // ----------------------------------------------\n  //  CHAT MESSAGE BUBBLE COMPONENT\n  // ----------------------------------------------\n  const MessageBubble = ({\n    msg,\n    speak\n  }) => {\n    const isUser = msg.sender === \"user\";\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `flex w-full mb-3 ${isUser ? \"justify-end\" : \"justify-start\"}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `\n                    max-w-[80%] px-4 py-2 rounded-2xl shadow \n                    ${isUser ? \"bg-green-600 text-white rounded-br-none\" : \"bg-gray-100 text-gray-900 rounded-bl-none\"}\n                `,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"whitespace-pre-wrap\",\n          children: msg.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 17\n        }, this), !isUser && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"mt-1 text-xs text-green-600 underline\",\n          onClick: () => speak(msg.text),\n          children: \"\\uD83D\\uDD0A Listen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 9\n    }, this);\n  };\n\n  // ----------------------------------------------\n  //  TYPING INDICATOR\n  // ----------------------------------------------\n  const TypingIndicator = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-start mb-3\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-4 py-2 bg-gray-200 rounded-2xl rounded-bl-none text-gray-600\",\n      children: \"typing\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 493,\n    columnNumber: 5\n  }, this);\n\n  // ----------------------------------------------\n  //  MAIN RETURN UI\n  // ----------------------------------------------\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen w-screen flex flex-col bg-white\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 506,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-1 h-full overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hidden md:block\",\n        children: /*#__PURE__*/_jsxDEV(Sidebar, {\n          sessions: sessions,\n          currentSessionId: currentSessionId,\n          switchSession: id => {\n            setCurrentSessionId(id);\n            localStorage.setItem(LOCAL_KEY_LAST_SESSION, id);\n          },\n          createSession: createSession,\n          deleteSession: deleteSession\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 13\n      }, this), isSidebarOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"md:hidden fixed inset-0 bg-black bg-opacity-40 z-40\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute left-0 top-0 bottom-0 w-64 bg-white shadow z-50\",\n          children: /*#__PURE__*/_jsxDEV(Sidebar, {\n            sessions: sessions,\n            currentSessionId: currentSessionId,\n            switchSession: id => {\n              setCurrentSessionId(id);\n              setIsSidebarOpen(false);\n              localStorage.setItem(LOCAL_KEY_LAST_SESSION, id);\n            },\n            createSession: () => {\n              createSession();\n              setIsSidebarOpen(false);\n            },\n            deleteSession: deleteSession\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col flex-1 h-full bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-y-auto p-4 pb-24\",\n          children: [messages.map(msg => /*#__PURE__*/_jsxDEV(MessageBubble, {\n            msg: msg,\n            speak: speak\n          }, msg.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 25\n          }, this)), isTyping && /*#__PURE__*/_jsxDEV(TypingIndicator, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 34\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messageEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute bottom-0 left-0 right-0 border-t bg-white p-3 flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startListening,\n            disabled: !canSpeak,\n            className: \"p-3 bg-green-600 text-white rounded-full shadow\",\n            title: \"Hold to speak\",\n            children: \"\\uD83C\\uDFA4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Message Mene...\",\n            className: \"flex-1 px-4 py-3 border rounded-full bg-gray-50 focus:outline-none\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            onKeyDown: e => {\n              if (e.key === \"Enter\") handleSend();\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleSend(),\n            className: \"px-4 py-3 bg-green-600 text-white rounded-full shadow\",\n            children: \"\\u27A4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 584,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 504,\n    columnNumber: 5\n  }, this);\n} // END OF APP()\n\n// ===============================\n// END OF APP.JS\n// ===============================\n_s(App, \"h+QhFRks6XUBTtJOzUnJlvZ4Fk0=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","v4","uuidv4","initializeApp","getAuth","signInAnonymously","onAuthStateChanged","getFirestore","collection","query","onSnapshot","addDoc","orderBy","limit","serverTimestamp","doc","deleteDoc","writeBatch","getDocs","setDoc","jsxDEV","_jsxDEV","FIREBASE_CONFIG","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","GEMINI_API_KEY","MODEL_NAME","API_ENDPOINT","askAIStream","userText","history","full","chunks","idx","formattedHistory","map","msg","role","sender","parts","text","next","_data$candidates","_data$candidates$","_data$candidates$$con","_data$candidates$$con2","_data$candidates$$con3","payload","contents","systemInstruction","r","fetch","method","headers","body","JSON","stringify","data","json","candidates","content","split","filter","Boolean","length","done","value","token","Symbol","asyncIterator","LOCAL_KEY_LAST_SESSION","scrollSmooth","ref","_ref$current","current","scrollIntoView","behavior","App","_s","db","setDb","auth","setAuth","userId","setUserId","isAuthReady","setIsAuthReady","sessions","setSessions","currentSessionId","setCurrentSessionId","localStorage","getItem","messages","setMessages","input","setInput","isTyping","setIsTyping","errorMessage","setErrorMessage","isSidebarOpen","setIsSidebarOpen","window","innerWidth","canSpeak","setCanSpeak","recognitionRef","messageEndRef","app","firestore","authentication","unsub","user","_authentication$curre","currentUser","uid","err","console","error","q","snap","arr","docs","d","id","setItem","createSession","newRef","name","createdAt","deleteSession","confirm","sessionRef","messagesRef","batch","msgDocs","forEach","delete","commit","remaining","s","removeItem","saveMessage","handleSend","manualText","trim","botText","tempId","prev","stream","chunk","m","rec","webkitSpeechRecognition","continuous","interimResults","lang","onresult","e","results","transcript","onerror","startListening","start","speak","speechSynthesis","u","SpeechSynthesisUtterance","Sidebar","switchSession","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","stopPropagation","Header","_sessions$find","find","MessageBubble","isUser","TypingIndicator","disabled","title","type","placeholder","onChange","target","onKeyDown","key","_c","$RefreshReg$"],"sources":["/workspaces/MeneBot-/src/App.jsx"],"sourcesContent":["// ===============================\n//  APP.JS â€” PART 1/3\n// ===============================\n\nimport React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport { v4 as uuidv4 } from 'uuid';\n\n// Firebase\nimport { \n    initializeApp \n} from 'firebase/app';\n\nimport { \n    getAuth, \n    signInAnonymously, \n    onAuthStateChanged\n} from \"firebase/auth\";\n\nimport {\n    getFirestore,\n    collection,\n    query,\n    onSnapshot,\n    addDoc,\n    orderBy,\n    limit,\n    serverTimestamp,\n    doc,\n    deleteDoc,\n    writeBatch,\n    getDocs,\n    setDoc\n} from \"firebase/firestore\";\n\n// =============================================================\n//  ðŸ” API CONFIG (YOU MUST FILL IN YOUR OWN KEYS HERE)\n// =============================================================\n\n// FIREBASE PLACEHOLDER CONFIG  \n// (replace with your Firebase project's values)\nconst FIREBASE_CONFIG = {\n    apiKey: \"AIzaSyACbU7QPgmUkvn1cmIIytlUK8FI0xBHhmE\",\n    authDomain: \"mene-bot.firebaseapp.com\",\n    projectId: \"mene-bot\",\n    storageBucket: \"mene-bot.firebasestorage.app\",\n    messagingSenderId: \"535679609146\",\n    appId: \"1:535679609146:web:750fcd7b478d93bcae8803\"\n};\n\n// GEMINI API PLACEHOLDER\nconst GEMINI_API_KEY = \"AIzaSyD0fDB4XPYTSONxvbLTUCLznwzLWWV11ys\";\n\n// MODEL\nconst MODEL_NAME = \"gemini-2.0-flash\"; // stable model\n\n// API ENDPOINT\nconst API_ENDPOINT = `https://generativelanguage.googleapis.com/v1beta/models/${MODEL_NAME}:generateContent?key=${GEMINI_API_KEY}`;\n\n// =============================================================\n//  STREAMING FIX â€” Works reliably with Gemini REST\n// =============================================================\nfunction askAIStream(userText, history) {\n    let full = null;\n    let chunks = [];\n    let idx = 0;\n\n    const formattedHistory = history.map(msg => ({\n        role: msg.sender === \"user\" ? \"user\" : \"model\",\n        parts: [{ text: msg.text }]\n    }));\n\n    return {\n        async next() {\n            // First call â†’ fetch response\n            if (full === null) {\n                const payload = {\n                    contents: [\n                        ...formattedHistory,\n                        { role: \"user\", parts: [{ text: userText }] }\n                    ],\n                    systemInstruction: {\n                        parts: [\n                            { text: \"You are Mene. Keep responses short and friendly.\" }\n                        ]\n                    }\n                };\n\n                const r = await fetch(API_ENDPOINT, {\n                    method: \"POST\",\n                    headers: { \"Content-Type\": \"application/json\" },\n                    body: JSON.stringify(payload)\n                });\n\n                const data = await r.json();\n\n                full = data?.candidates?.[0]?.content?.parts?.[0]?.text || \"â€¦\";\n\n                // Split into tokens\n                chunks = full.split(/(\\s+)/).filter(Boolean);\n            }\n\n            // Out of chunks?\n            if (idx >= chunks.length) {\n                return { done: true, value: full };\n            }\n\n            // Stream 1 token\n            const token = chunks[idx++];\n            return { done: false, value: token };\n        },\n\n        [Symbol.asyncIterator]() {\n            return this;\n        }\n    };\n}\n\n// =============================================================\n//  LOCAL CACHE â€” prevents reset on refresh\n// =============================================================\nconst LOCAL_KEY_LAST_SESSION = \"mene_last_session\";\n\n// =============================================================\n//  SMALL UI UTILITIES\n// =============================================================\nconst scrollSmooth = (ref) => {\n    ref.current?.scrollIntoView({ behavior: \"smooth\" });\n};\n\nexport default function App() {\n\n// ----------------------------------------------\n//  STATE\n// ----------------------------------------------\n\nconst [db, setDb] = useState(null);\nconst [auth, setAuth] = useState(null);\nconst [userId, setUserId] = useState(null);\nconst [isAuthReady, setIsAuthReady] = useState(false);\n\nconst [sessions, setSessions] = useState([]);\nconst [currentSessionId, setCurrentSessionId] = useState(\n    localStorage.getItem(LOCAL_KEY_LAST_SESSION) || null\n);\n\nconst [messages, setMessages] = useState([]);\nconst [input, setInput] = useState(\"\");\nconst [isTyping, setIsTyping] = useState(false);\nconst [errorMessage, setErrorMessage] = useState(\"\");\n\nconst [isSidebarOpen, setIsSidebarOpen] = useState(window.innerWidth >= 768);\n\n// STT/TTS\nconst [canSpeak, setCanSpeak] = useState(false);\nconst recognitionRef = useRef(null);\nconst messageEndRef = useRef(null);\n\n// ----------------------------------------------\n//  INITIALIZE FIREBASE\n// ----------------------------------------------\nuseEffect(() => {\n    try {\n        const app = initializeApp(FIREBASE_CONFIG);\n        const firestore = getFirestore(app);\n        const authentication = getAuth(app);\n\n        setDb(firestore);\n        setAuth(authentication);\n\n        const unsub = onAuthStateChanged(authentication, async (user) => {\n            if (!user) {\n                await signInAnonymously(authentication);\n            }\n            setUserId(authentication.currentUser?.uid);\n            setIsAuthReady(true);\n        });\n\n        return () => unsub();\n    } catch (err) {\n        console.error(\"Firebase init error:\", err);\n        setErrorMessage(\"Firebase initialization failed.\");\n    }\n}, []);\n\n\n// ----------------------------------------------\n//  MORE CODE CONTINUES IN PART 2â€¦\n// ----------------------------------------------\n\n// ===============================\n//  APP.JS â€” PART 2/3\n// ===============================\n\n// ----------------------------------------------\n//  LOAD SESSIONS\n// ----------------------------------------------\nuseEffect(() => {\n    if (!db || !userId) return;\n\n    const ref = collection(db, \"users\", userId, \"sessions\");\n    const q = query(ref, orderBy(\"createdAt\", \"desc\"));\n\n    const unsub = onSnapshot(q, snap => {\n        const arr = snap.docs.map(d => ({ id: d.id, ...d.data() }));\n        setSessions(arr);\n\n        // Pick a session automatically\n        if (!currentSessionId && arr.length > 0) {\n            setCurrentSessionId(arr[0].id);\n            localStorage.setItem(LOCAL_KEY_LAST_SESSION, arr[0].id);\n        }\n\n        // If no sessions exist â†’ create one\n        if (arr.length === 0) createSession();\n    });\n\n    return () => unsub();\n}, [db, userId]);\n\n// ----------------------------------------------\n//  LOAD MESSAGES FOR CURRENT SESSION\n// ----------------------------------------------\nuseEffect(() => {\n    if (!db || !userId || !currentSessionId) {\n        setMessages([]);\n        return;\n    }\n\n    const ref = collection(db, \"users\", userId, \"sessions\", currentSessionId, \"messages\");\n    const q = query(ref, orderBy(\"createdAt\", \"asc\"), limit(50));\n\n    const unsub = onSnapshot(q, snap => {\n        const arr = snap.docs.map(d => ({\n            id: d.id,\n            sender: d.data().sender,\n            text: d.data().text\n        }));\n        setMessages(arr);\n        scrollSmooth(messageEndRef);\n    });\n\n    return () => unsub();\n}, [db, userId, currentSessionId]);\n\n// ----------------------------------------------\n//  CREATE NEW SESSION\n// ----------------------------------------------\nconst createSession = useCallback(async () => {\n    if (!db || !userId) return;\n\n    const ref = collection(db, \"users\", userId, \"sessions\");\n    const newRef = doc(ref);\n    await setDoc(newRef, {\n        name: \"New Chat\",\n        createdAt: serverTimestamp()\n    });\n\n    setCurrentSessionId(newRef.id);\n    localStorage.setItem(LOCAL_KEY_LAST_SESSION, newRef.id);\n    setIsSidebarOpen(false);\n}, [db, userId]);\n\n// ----------------------------------------------\n//  DELETE A SESSION\n// ----------------------------------------------\nconst deleteSession = async (id) => {\n    if (!db || !userId) return;\n\n    if (!window.confirm(\"Delete this conversation?\")) return;\n\n    const sessionRef = doc(db, \"users\", userId, \"sessions\", id);\n    const messagesRef = collection(db, \"users\", userId, \"sessions\", id, \"messages\");\n\n    const batch = writeBatch(db);\n\n    const msgDocs = await getDocs(messagesRef);\n    msgDocs.forEach(d => batch.delete(d.ref));\n    batch.delete(sessionRef);\n\n    await batch.commit();\n\n    // Switch to another session\n    const remaining = sessions.filter(s => s.id !== id);\n    if (remaining.length > 0) {\n        setCurrentSessionId(remaining[0].id);\n        localStorage.setItem(LOCAL_KEY_LAST_SESSION, remaining[0].id);\n    } else {\n        setCurrentSessionId(null);\n        localStorage.removeItem(LOCAL_KEY_LAST_SESSION);\n        createSession();\n    }\n};\n\n// ----------------------------------------------\n//  SAVE MESSAGE\n// ----------------------------------------------\nconst saveMessage = async (sender, text) => {\n    if (!db || !userId || !currentSessionId) return;\n    const ref = collection(db, \"users\", userId, \"sessions\", currentSessionId, \"messages\");\n    await addDoc(ref, {\n        sender,\n        text,\n        createdAt: serverTimestamp()\n    });\n};\n\n// ----------------------------------------------\n//  SEND MESSAGE (STREAMING Gemini)\n// ----------------------------------------------\nconst handleSend = useCallback(async (manualText = null) => {\n    let text = manualText || input.trim();\n    if (!text) return;\n\n    setInput(\"\");\n    setIsTyping(true);\n    setErrorMessage(\"\");\n\n    await saveMessage(\"user\", text);\n\n    let botText = \"\";\n    const tempId = uuidv4();\n\n    setMessages(prev => [...prev, { id: tempId, sender: \"bot\", text: \"\" }]);\n\n    const stream = askAIStream(text, messages);\n\n    try {\n        for await (const chunk of stream) {\n            botText += chunk;\n            setMessages(prev =>\n                prev.map(m =>\n                    m.id === tempId ? { ...m, text: botText } : m\n                )\n            );\n        }\n    } catch (err) {\n        botText = \"Error generating response.\";\n    }\n\n    setIsTyping(false);\n    await saveMessage(\"bot\", botText);\n}, [input, messages, currentSessionId, db, userId]);\n\n// ----------------------------------------------\n//  SPEECH-TO-TEXT (WhatsApp style mic)\n// ----------------------------------------------\nuseEffect(() => {\n    if (!(\"webkitSpeechRecognition\" in window)) return;\n\n    const rec = new window.webkitSpeechRecognition();\n    rec.continuous = false;\n    rec.interimResults = false;\n    rec.lang = \"en-US\";\n\n    rec.onresult = e => {\n        const text = e.results[0][0].transcript;\n        handleSend(text);\n    };\n\n    rec.onerror = e => console.error(\"STT error:\", e.error);\n\n    recognitionRef.current = rec;\n    setCanSpeak(true);\n}, []);\n\nconst startListening = () => {\n    if (!recognitionRef.current) return;\n    try {\n        recognitionRef.current.start();\n    } catch (e) {}\n};\n\n// ----------------------------------------------\n//  TEXT-TO-SPEECH\n// ----------------------------------------------\nconst speak = (text) => {\n    if (!window.speechSynthesis) return;\n    const u = new SpeechSynthesisUtterance(text);\n    u.lang = \"en-US\";\n    speechSynthesis.speak(u);\n};\n\n// ----------------------------------------------\n//  SIDEBAR COMPONENT\n// ----------------------------------------------\nconst Sidebar = ({ sessions, currentSessionId, switchSession, createSession, deleteSession }) => (\n    <div className=\"w-64 h-full bg-gray-50 border-r border-gray-200 p-4 flex flex-col\">\n        <div className=\"flex justify-between items-center mb-4\">\n            <h2 className=\"text-lg font-bold\">Chats</h2>\n            <button\n                className=\"bg-green-500 text-white px-2 py-1 rounded\"\n                onClick={createSession}\n            >\n                +\n            </button>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto space-y-2\">\n            {sessions.map(s => (\n                <div\n                    key={s.id}\n                    onClick={() => switchSession(s.id)}\n                    className={`p-3 rounded cursor-pointer ${s.id === currentSessionId\n                            ? \"bg-green-200 font-semibold\"\n                            : \"bg-white hover:bg-gray-200\"\n                        }`}\n                >\n                    <div className=\"flex justify-between items-center\">\n                        <span>{s.name}</span>\n                        <button\n                            className=\"text-red-600\"\n                            onClick={(e) => {\n                                e.stopPropagation();\n                                deleteSession(s.id);\n                            }}\n                        >\n                            Ã—\n                        </button>\n                    </div>\n                </div>\n            ))}\n        </div>\n    </div>\n);\n\n// ----------------------------------------------\n//  HEADER COMPONENT\n// ----------------------------------------------\nconst Header = () => (\n    <div className=\"p-4 bg-green-600 text-white flex justify-between items-center shadow\">\n        <button\n            className=\"md:hidden p-2 bg-green-700 rounded\"\n            onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n        >\n            â˜°\n        </button>\n\n        <h1 className=\"font-bold text-lg\">Mene AI</h1>\n        <div className=\"hidden md:block text-sm opacity-75\">\n            Session: {sessions.find(s => s.id === currentSessionId)?.name || \"\"}\n        </div>\n    </div>\n);\n\n// ----------------------------------------------\n// PART 3/3 WILL CONTAIN:\n// - Final JSX Layout\n// - Message list\n// - Input area\n// - CSS + Tailwind tweaks\n// ----------------------------------------------\n\n// ===============================\n// APP.JS â€” PART 3/3 (FINAL)\n// ===============================\n\n// ----------------------------------------------\n//  CHAT MESSAGE BUBBLE COMPONENT\n// ----------------------------------------------\nconst MessageBubble = ({ msg, speak }) => {\n    const isUser = msg.sender === \"user\";\n\n    return (\n        <div className={`flex w-full mb-3 ${isUser ? \"justify-end\" : \"justify-start\"}`}>\n            <div\n                className={`\n                    max-w-[80%] px-4 py-2 rounded-2xl shadow \n                    ${isUser\n                        ? \"bg-green-600 text-white rounded-br-none\"\n                        : \"bg-gray-100 text-gray-900 rounded-bl-none\"}\n                `}\n            >\n                <p className=\"whitespace-pre-wrap\">{msg.text}</p>\n\n                {/* TTS button (bot messages only) */}\n                {!isUser && (\n                    <button\n                        className=\"mt-1 text-xs text-green-600 underline\"\n                        onClick={() => speak(msg.text)}\n                    >\n                        ðŸ”Š Listen\n                    </button>\n                )}\n            </div>\n        </div>\n    );\n};\n\n// ----------------------------------------------\n//  TYPING INDICATOR\n// ----------------------------------------------\nconst TypingIndicator = () => (\n    <div className=\"flex justify-start mb-3\">\n        <div className=\"px-4 py-2 bg-gray-200 rounded-2xl rounded-bl-none text-gray-600\">\n            typingâ€¦\n        </div>\n    </div>\n);\n\n// ----------------------------------------------\n//  MAIN RETURN UI\n// ----------------------------------------------\nreturn (\n    <div className=\"h-screen w-screen flex flex-col bg-white\">\n        {/* HEADER */}\n        <Header />\n\n        <div className=\"flex flex-1 h-full overflow-hidden\">\n\n            {/* DESKTOP SIDEBAR */}\n            <div className=\"hidden md:block\">\n                <Sidebar\n                    sessions={sessions}\n                    currentSessionId={currentSessionId}\n                    switchSession={(id) => {\n                        setCurrentSessionId(id);\n                        localStorage.setItem(LOCAL_KEY_LAST_SESSION, id);\n                    }}\n                    createSession={createSession}\n                    deleteSession={deleteSession}\n                />\n            </div>\n\n            {/* MOBILE SIDEBAR OVERLAY */}\n            {isSidebarOpen && (\n                <div className=\"md:hidden fixed inset-0 bg-black bg-opacity-40 z-40\">\n                    <div className=\"absolute left-0 top-0 bottom-0 w-64 bg-white shadow z-50\">\n                        <Sidebar\n                            sessions={sessions}\n                            currentSessionId={currentSessionId}\n                            switchSession={(id) => {\n                                setCurrentSessionId(id);\n                                setIsSidebarOpen(false);\n                                localStorage.setItem(LOCAL_KEY_LAST_SESSION, id);\n                            }}\n                            createSession={() => {\n                                createSession();\n                                setIsSidebarOpen(false);\n                            }}\n                            deleteSession={deleteSession}\n                        />\n                    </div>\n                </div>\n            )}\n\n            {/* MAIN CHAT PANEL */}\n            <div className=\"flex flex-col flex-1 h-full bg-white\">\n                {/* MESSAGES */}\n                <div className=\"flex-1 overflow-y-auto p-4 pb-24\">\n                    {messages.map((msg) => (\n                        <MessageBubble key={msg.id} msg={msg} speak={speak} />\n                    ))}\n\n                    {isTyping && <TypingIndicator />}\n\n                    <div ref={messageEndRef} />\n                </div>\n\n                {/* INPUT BAR */}\n                <div className=\"absolute bottom-0 left-0 right-0 border-t bg-white p-3 flex items-center space-x-2\">\n                    {/* MICROPHONE (WhatsApp-style) */}\n                    <button\n                        onClick={startListening}\n                        disabled={!canSpeak}\n                        className=\"p-3 bg-green-600 text-white rounded-full shadow\"\n                        title=\"Hold to speak\"\n                    >\n                        ðŸŽ¤\n                    </button>\n\n                    {/* TEXT INPUT */}\n                    <input\n                        type=\"text\"\n                        placeholder=\"Message Mene...\"\n                        className=\"flex-1 px-4 py-3 border rounded-full bg-gray-50 focus:outline-none\"\n                        value={input}\n                        onChange={(e) => setInput(e.target.value)}\n                        onKeyDown={(e) => {\n                            if (e.key === \"Enter\") handleSend();\n                        }}\n                    />\n\n                    {/* SEND BUTTON */}\n                    <button\n                        onClick={() => handleSend()}\n                        className=\"px-4 py-3 bg-green-600 text-white rounded-full shadow\"\n                    >\n                        âž¤\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n);\n} // END OF APP()\n\n// ===============================\n// END OF APP.JS\n// ===============================\n"],"mappings":";;AAAA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AACvE,SAASC,EAAE,IAAIC,MAAM,QAAQ,MAAM;;AAEnC;AACA,SACIC,aAAa,QACV,cAAc;AAErB,SACIC,OAAO,EACPC,iBAAiB,EACjBC,kBAAkB,QACf,eAAe;AAEtB,SACIC,YAAY,EACZC,UAAU,EACVC,KAAK,EACLC,UAAU,EACVC,MAAM,EACNC,OAAO,EACPC,KAAK,EACLC,eAAe,EACfC,GAAG,EACHC,SAAS,EACTC,UAAU,EACVC,OAAO,EACPC,MAAM,QACH,oBAAoB;;AAE3B;AACA;AACA;;AAEA;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,eAAe,GAAG;EACpBC,MAAM,EAAE,yCAAyC;EACjDC,UAAU,EAAE,0BAA0B;EACtCC,SAAS,EAAE,UAAU;EACrBC,aAAa,EAAE,8BAA8B;EAC7CC,iBAAiB,EAAE,cAAc;EACjCC,KAAK,EAAE;AACX,CAAC;;AAED;AACA,MAAMC,cAAc,GAAG,yCAAyC;;AAEhE;AACA,MAAMC,UAAU,GAAG,kBAAkB,CAAC,CAAC;;AAEvC;AACA,MAAMC,YAAY,GAAG,2DAA2DD,UAAU,wBAAwBD,cAAc,EAAE;;AAElI;AACA;AACA;AACA,SAASG,WAAWA,CAACC,QAAQ,EAAEC,OAAO,EAAE;EACpC,IAAIC,IAAI,GAAG,IAAI;EACf,IAAIC,MAAM,GAAG,EAAE;EACf,IAAIC,GAAG,GAAG,CAAC;EAEX,MAAMC,gBAAgB,GAAGJ,OAAO,CAACK,GAAG,CAACC,GAAG,KAAK;IACzCC,IAAI,EAAED,GAAG,CAACE,MAAM,KAAK,MAAM,GAAG,MAAM,GAAG,OAAO;IAC9CC,KAAK,EAAE,CAAC;MAAEC,IAAI,EAAEJ,GAAG,CAACI;IAAK,CAAC;EAC9B,CAAC,CAAC,CAAC;EAEH,OAAO;IACH,MAAMC,IAAIA,CAAA,EAAG;MACT;MACA,IAAIV,IAAI,KAAK,IAAI,EAAE;QAAA,IAAAW,gBAAA,EAAAC,iBAAA,EAAAC,qBAAA,EAAAC,sBAAA,EAAAC,sBAAA;QACf,MAAMC,OAAO,GAAG;UACZC,QAAQ,EAAE,CACN,GAAGd,gBAAgB,EACnB;YAAEG,IAAI,EAAE,MAAM;YAAEE,KAAK,EAAE,CAAC;cAAEC,IAAI,EAAEX;YAAS,CAAC;UAAE,CAAC,CAChD;UACDoB,iBAAiB,EAAE;YACfV,KAAK,EAAE,CACH;cAAEC,IAAI,EAAE;YAAmD,CAAC;UAEpE;QACJ,CAAC;QAED,MAAMU,CAAC,GAAG,MAAMC,KAAK,CAACxB,YAAY,EAAE;UAChCyB,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YAAE,cAAc,EAAE;UAAmB,CAAC;UAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACT,OAAO;QAChC,CAAC,CAAC;QAEF,MAAMU,IAAI,GAAG,MAAMP,CAAC,CAACQ,IAAI,CAAC,CAAC;QAE3B3B,IAAI,GAAG,CAAA0B,IAAI,aAAJA,IAAI,wBAAAf,gBAAA,GAAJe,IAAI,CAAEE,UAAU,cAAAjB,gBAAA,wBAAAC,iBAAA,GAAhBD,gBAAA,CAAmB,CAAC,CAAC,cAAAC,iBAAA,wBAAAC,qBAAA,GAArBD,iBAAA,CAAuBiB,OAAO,cAAAhB,qBAAA,wBAAAC,sBAAA,GAA9BD,qBAAA,CAAgCL,KAAK,cAAAM,sBAAA,wBAAAC,sBAAA,GAArCD,sBAAA,CAAwC,CAAC,CAAC,cAAAC,sBAAA,uBAA1CA,sBAAA,CAA4CN,IAAI,KAAI,GAAG;;QAE9D;QACAR,MAAM,GAAGD,IAAI,CAAC8B,KAAK,CAAC,OAAO,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC;MAChD;;MAEA;MACA,IAAI9B,GAAG,IAAID,MAAM,CAACgC,MAAM,EAAE;QACtB,OAAO;UAAEC,IAAI,EAAE,IAAI;UAAEC,KAAK,EAAEnC;QAAK,CAAC;MACtC;;MAEA;MACA,MAAMoC,KAAK,GAAGnC,MAAM,CAACC,GAAG,EAAE,CAAC;MAC3B,OAAO;QAAEgC,IAAI,EAAE,KAAK;QAAEC,KAAK,EAAEC;MAAM,CAAC;IACxC,CAAC;IAED,CAACC,MAAM,CAACC,aAAa,IAAI;MACrB,OAAO,IAAI;IACf;EACJ,CAAC;AACL;;AAEA;AACA;AACA;AACA,MAAMC,sBAAsB,GAAG,mBAAmB;;AAElD;AACA;AACA;AACA,MAAMC,YAAY,GAAIC,GAAG,IAAK;EAAA,IAAAC,YAAA;EAC1B,CAAAA,YAAA,GAAAD,GAAG,CAACE,OAAO,cAAAD,YAAA,uBAAXA,YAAA,CAAaE,cAAc,CAAC;IAAEC,QAAQ,EAAE;EAAS,CAAC,CAAC;AACvD,CAAC;AAED,eAAe,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EAE9B;EACA;EACA;;EAEA,MAAM,CAACC,EAAE,EAAEC,KAAK,CAAC,GAAGvF,QAAQ,CAAC,IAAI,CAAC;EAClC,MAAM,CAACwF,IAAI,EAAEC,OAAO,CAAC,GAAGzF,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAAC0F,MAAM,EAAEC,SAAS,CAAC,GAAG3F,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAAC4F,WAAW,EAAEC,cAAc,CAAC,GAAG7F,QAAQ,CAAC,KAAK,CAAC;EAErD,MAAM,CAAC8F,QAAQ,EAAEC,WAAW,CAAC,GAAG/F,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACgG,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGjG,QAAQ,CACpDkG,YAAY,CAACC,OAAO,CAACtB,sBAAsB,CAAC,IAAI,IACpD,CAAC;EAED,MAAM,CAACuB,QAAQ,EAAEC,WAAW,CAAC,GAAGrG,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACsG,KAAK,EAAEC,QAAQ,CAAC,GAAGvG,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACwG,QAAQ,EAAEC,WAAW,CAAC,GAAGzG,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAAC0G,YAAY,EAAEC,eAAe,CAAC,GAAG3G,QAAQ,CAAC,EAAE,CAAC;EAEpD,MAAM,CAAC4G,aAAa,EAAEC,gBAAgB,CAAC,GAAG7G,QAAQ,CAAC8G,MAAM,CAACC,UAAU,IAAI,GAAG,CAAC;;EAE5E;EACA,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGjH,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAMkH,cAAc,GAAGhH,MAAM,CAAC,IAAI,CAAC;EACnC,MAAMiH,aAAa,GAAGjH,MAAM,CAAC,IAAI,CAAC;;EAElC;EACA;EACA;EACAD,SAAS,CAAC,MAAM;IACZ,IAAI;MACA,MAAMmH,GAAG,GAAG9G,aAAa,CAACmB,eAAe,CAAC;MAC1C,MAAM4F,SAAS,GAAG3G,YAAY,CAAC0G,GAAG,CAAC;MACnC,MAAME,cAAc,GAAG/G,OAAO,CAAC6G,GAAG,CAAC;MAEnC7B,KAAK,CAAC8B,SAAS,CAAC;MAChB5B,OAAO,CAAC6B,cAAc,CAAC;MAEvB,MAAMC,KAAK,GAAG9G,kBAAkB,CAAC6G,cAAc,EAAE,MAAOE,IAAI,IAAK;QAAA,IAAAC,qBAAA;QAC7D,IAAI,CAACD,IAAI,EAAE;UACP,MAAMhH,iBAAiB,CAAC8G,cAAc,CAAC;QAC3C;QACA3B,SAAS,EAAA8B,qBAAA,GAACH,cAAc,CAACI,WAAW,cAAAD,qBAAA,uBAA1BA,qBAAA,CAA4BE,GAAG,CAAC;QAC1C9B,cAAc,CAAC,IAAI,CAAC;MACxB,CAAC,CAAC;MAEF,OAAO,MAAM0B,KAAK,CAAC,CAAC;IACxB,CAAC,CAAC,OAAOK,GAAG,EAAE;MACVC,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEF,GAAG,CAAC;MAC1CjB,eAAe,CAAC,iCAAiC,CAAC;IACtD;EACJ,CAAC,EAAE,EAAE,CAAC;;EAGN;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;EACA1G,SAAS,CAAC,MAAM;IACZ,IAAI,CAACqF,EAAE,IAAI,CAACI,MAAM,EAAE;IAEpB,MAAMX,GAAG,GAAGpE,UAAU,CAAC2E,EAAE,EAAE,OAAO,EAAEI,MAAM,EAAE,UAAU,CAAC;IACvD,MAAMqC,CAAC,GAAGnH,KAAK,CAACmE,GAAG,EAAEhE,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;IAElD,MAAMwG,KAAK,GAAG1G,UAAU,CAACkH,CAAC,EAAEC,IAAI,IAAI;MAChC,MAAMC,GAAG,GAAGD,IAAI,CAACE,IAAI,CAACxF,GAAG,CAACyF,CAAC,KAAK;QAAEC,EAAE,EAAED,CAAC,CAACC,EAAE;QAAE,GAAGD,CAAC,CAACnE,IAAI,CAAC;MAAE,CAAC,CAAC,CAAC;MAC3D+B,WAAW,CAACkC,GAAG,CAAC;;MAEhB;MACA,IAAI,CAACjC,gBAAgB,IAAIiC,GAAG,CAAC1D,MAAM,GAAG,CAAC,EAAE;QACrC0B,mBAAmB,CAACgC,GAAG,CAAC,CAAC,CAAC,CAACG,EAAE,CAAC;QAC9BlC,YAAY,CAACmC,OAAO,CAACxD,sBAAsB,EAAEoD,GAAG,CAAC,CAAC,CAAC,CAACG,EAAE,CAAC;MAC3D;;MAEA;MACA,IAAIH,GAAG,CAAC1D,MAAM,KAAK,CAAC,EAAE+D,aAAa,CAAC,CAAC;IACzC,CAAC,CAAC;IAEF,OAAO,MAAMf,KAAK,CAAC,CAAC;EACxB,CAAC,EAAE,CAACjC,EAAE,EAAEI,MAAM,CAAC,CAAC;;EAEhB;EACA;EACA;EACAzF,SAAS,CAAC,MAAM;IACZ,IAAI,CAACqF,EAAE,IAAI,CAACI,MAAM,IAAI,CAACM,gBAAgB,EAAE;MACrCK,WAAW,CAAC,EAAE,CAAC;MACf;IACJ;IAEA,MAAMtB,GAAG,GAAGpE,UAAU,CAAC2E,EAAE,EAAE,OAAO,EAAEI,MAAM,EAAE,UAAU,EAAEM,gBAAgB,EAAE,UAAU,CAAC;IACrF,MAAM+B,CAAC,GAAGnH,KAAK,CAACmE,GAAG,EAAEhE,OAAO,CAAC,WAAW,EAAE,KAAK,CAAC,EAAEC,KAAK,CAAC,EAAE,CAAC,CAAC;IAE5D,MAAMuG,KAAK,GAAG1G,UAAU,CAACkH,CAAC,EAAEC,IAAI,IAAI;MAChC,MAAMC,GAAG,GAAGD,IAAI,CAACE,IAAI,CAACxF,GAAG,CAACyF,CAAC,KAAK;QAC5BC,EAAE,EAAED,CAAC,CAACC,EAAE;QACRvF,MAAM,EAAEsF,CAAC,CAACnE,IAAI,CAAC,CAAC,CAACnB,MAAM;QACvBE,IAAI,EAAEoF,CAAC,CAACnE,IAAI,CAAC,CAAC,CAACjB;MACnB,CAAC,CAAC,CAAC;MACHsD,WAAW,CAAC4B,GAAG,CAAC;MAChBnD,YAAY,CAACqC,aAAa,CAAC;IAC/B,CAAC,CAAC;IAEF,OAAO,MAAMI,KAAK,CAAC,CAAC;EACxB,CAAC,EAAE,CAACjC,EAAE,EAAEI,MAAM,EAAEM,gBAAgB,CAAC,CAAC;;EAElC;EACA;EACA;EACA,MAAMsC,aAAa,GAAGnI,WAAW,CAAC,YAAY;IAC1C,IAAI,CAACmF,EAAE,IAAI,CAACI,MAAM,EAAE;IAEpB,MAAMX,GAAG,GAAGpE,UAAU,CAAC2E,EAAE,EAAE,OAAO,EAAEI,MAAM,EAAE,UAAU,CAAC;IACvD,MAAM6C,MAAM,GAAGrH,GAAG,CAAC6D,GAAG,CAAC;IACvB,MAAMzD,MAAM,CAACiH,MAAM,EAAE;MACjBC,IAAI,EAAE,UAAU;MAChBC,SAAS,EAAExH,eAAe,CAAC;IAC/B,CAAC,CAAC;IAEFgF,mBAAmB,CAACsC,MAAM,CAACH,EAAE,CAAC;IAC9BlC,YAAY,CAACmC,OAAO,CAACxD,sBAAsB,EAAE0D,MAAM,CAACH,EAAE,CAAC;IACvDvB,gBAAgB,CAAC,KAAK,CAAC;EAC3B,CAAC,EAAE,CAACvB,EAAE,EAAEI,MAAM,CAAC,CAAC;;EAEhB;EACA;EACA;EACA,MAAMgD,aAAa,GAAG,MAAON,EAAE,IAAK;IAChC,IAAI,CAAC9C,EAAE,IAAI,CAACI,MAAM,EAAE;IAEpB,IAAI,CAACoB,MAAM,CAAC6B,OAAO,CAAC,2BAA2B,CAAC,EAAE;IAElD,MAAMC,UAAU,GAAG1H,GAAG,CAACoE,EAAE,EAAE,OAAO,EAAEI,MAAM,EAAE,UAAU,EAAE0C,EAAE,CAAC;IAC3D,MAAMS,WAAW,GAAGlI,UAAU,CAAC2E,EAAE,EAAE,OAAO,EAAEI,MAAM,EAAE,UAAU,EAAE0C,EAAE,EAAE,UAAU,CAAC;IAE/E,MAAMU,KAAK,GAAG1H,UAAU,CAACkE,EAAE,CAAC;IAE5B,MAAMyD,OAAO,GAAG,MAAM1H,OAAO,CAACwH,WAAW,CAAC;IAC1CE,OAAO,CAACC,OAAO,CAACb,CAAC,IAAIW,KAAK,CAACG,MAAM,CAACd,CAAC,CAACpD,GAAG,CAAC,CAAC;IACzC+D,KAAK,CAACG,MAAM,CAACL,UAAU,CAAC;IAExB,MAAME,KAAK,CAACI,MAAM,CAAC,CAAC;;IAEpB;IACA,MAAMC,SAAS,GAAGrD,QAAQ,CAACzB,MAAM,CAAC+E,CAAC,IAAIA,CAAC,CAAChB,EAAE,KAAKA,EAAE,CAAC;IACnD,IAAIe,SAAS,CAAC5E,MAAM,GAAG,CAAC,EAAE;MACtB0B,mBAAmB,CAACkD,SAAS,CAAC,CAAC,CAAC,CAACf,EAAE,CAAC;MACpClC,YAAY,CAACmC,OAAO,CAACxD,sBAAsB,EAAEsE,SAAS,CAAC,CAAC,CAAC,CAACf,EAAE,CAAC;IACjE,CAAC,MAAM;MACHnC,mBAAmB,CAAC,IAAI,CAAC;MACzBC,YAAY,CAACmD,UAAU,CAACxE,sBAAsB,CAAC;MAC/CyD,aAAa,CAAC,CAAC;IACnB;EACJ,CAAC;;EAED;EACA;EACA;EACA,MAAMgB,WAAW,GAAG,MAAAA,CAAOzG,MAAM,EAAEE,IAAI,KAAK;IACxC,IAAI,CAACuC,EAAE,IAAI,CAACI,MAAM,IAAI,CAACM,gBAAgB,EAAE;IACzC,MAAMjB,GAAG,GAAGpE,UAAU,CAAC2E,EAAE,EAAE,OAAO,EAAEI,MAAM,EAAE,UAAU,EAAEM,gBAAgB,EAAE,UAAU,CAAC;IACrF,MAAMlF,MAAM,CAACiE,GAAG,EAAE;MACdlC,MAAM;MACNE,IAAI;MACJ0F,SAAS,EAAExH,eAAe,CAAC;IAC/B,CAAC,CAAC;EACN,CAAC;;EAED;EACA;EACA;EACA,MAAMsI,UAAU,GAAGpJ,WAAW,CAAC,OAAOqJ,UAAU,GAAG,IAAI,KAAK;IACxD,IAAIzG,IAAI,GAAGyG,UAAU,IAAIlD,KAAK,CAACmD,IAAI,CAAC,CAAC;IACrC,IAAI,CAAC1G,IAAI,EAAE;IAEXwD,QAAQ,CAAC,EAAE,CAAC;IACZE,WAAW,CAAC,IAAI,CAAC;IACjBE,eAAe,CAAC,EAAE,CAAC;IAEnB,MAAM2C,WAAW,CAAC,MAAM,EAAEvG,IAAI,CAAC;IAE/B,IAAI2G,OAAO,GAAG,EAAE;IAChB,MAAMC,MAAM,GAAGtJ,MAAM,CAAC,CAAC;IAEvBgG,WAAW,CAACuD,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE;MAAExB,EAAE,EAAEuB,MAAM;MAAE9G,MAAM,EAAE,KAAK;MAAEE,IAAI,EAAE;IAAG,CAAC,CAAC,CAAC;IAEvE,MAAM8G,MAAM,GAAG1H,WAAW,CAACY,IAAI,EAAEqD,QAAQ,CAAC;IAE1C,IAAI;MACA,WAAW,MAAM0D,KAAK,IAAID,MAAM,EAAE;QAC9BH,OAAO,IAAII,KAAK;QAChBzD,WAAW,CAACuD,IAAI,IACZA,IAAI,CAAClH,GAAG,CAACqH,CAAC,IACNA,CAAC,CAAC3B,EAAE,KAAKuB,MAAM,GAAG;UAAE,GAAGI,CAAC;UAAEhH,IAAI,EAAE2G;QAAQ,CAAC,GAAGK,CAChD,CACJ,CAAC;MACL;IACJ,CAAC,CAAC,OAAOnC,GAAG,EAAE;MACV8B,OAAO,GAAG,4BAA4B;IAC1C;IAEAjD,WAAW,CAAC,KAAK,CAAC;IAClB,MAAM6C,WAAW,CAAC,KAAK,EAAEI,OAAO,CAAC;EACrC,CAAC,EAAE,CAACpD,KAAK,EAAEF,QAAQ,EAAEJ,gBAAgB,EAAEV,EAAE,EAAEI,MAAM,CAAC,CAAC;;EAEnD;EACA;EACA;EACAzF,SAAS,CAAC,MAAM;IACZ,IAAI,EAAE,yBAAyB,IAAI6G,MAAM,CAAC,EAAE;IAE5C,MAAMkD,GAAG,GAAG,IAAIlD,MAAM,CAACmD,uBAAuB,CAAC,CAAC;IAChDD,GAAG,CAACE,UAAU,GAAG,KAAK;IACtBF,GAAG,CAACG,cAAc,GAAG,KAAK;IAC1BH,GAAG,CAACI,IAAI,GAAG,OAAO;IAElBJ,GAAG,CAACK,QAAQ,GAAGC,CAAC,IAAI;MAChB,MAAMvH,IAAI,GAAGuH,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACC,UAAU;MACvCjB,UAAU,CAACxG,IAAI,CAAC;IACpB,CAAC;IAEDiH,GAAG,CAACS,OAAO,GAAGH,CAAC,IAAIzC,OAAO,CAACC,KAAK,CAAC,YAAY,EAAEwC,CAAC,CAACxC,KAAK,CAAC;IAEvDZ,cAAc,CAACjC,OAAO,GAAG+E,GAAG;IAC5B/C,WAAW,CAAC,IAAI,CAAC;EACrB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMyD,cAAc,GAAGA,CAAA,KAAM;IACzB,IAAI,CAACxD,cAAc,CAACjC,OAAO,EAAE;IAC7B,IAAI;MACAiC,cAAc,CAACjC,OAAO,CAAC0F,KAAK,CAAC,CAAC;IAClC,CAAC,CAAC,OAAOL,CAAC,EAAE,CAAC;EACjB,CAAC;;EAED;EACA;EACA;EACA,MAAMM,KAAK,GAAI7H,IAAI,IAAK;IACpB,IAAI,CAAC+D,MAAM,CAAC+D,eAAe,EAAE;IAC7B,MAAMC,CAAC,GAAG,IAAIC,wBAAwB,CAAChI,IAAI,CAAC;IAC5C+H,CAAC,CAACV,IAAI,GAAG,OAAO;IAChBS,eAAe,CAACD,KAAK,CAACE,CAAC,CAAC;EAC5B,CAAC;;EAED;EACA;EACA;EACA,MAAME,OAAO,GAAGA,CAAC;IAAElF,QAAQ;IAAEE,gBAAgB;IAAEiF,aAAa;IAAE3C,aAAa;IAAEI;EAAc,CAAC,kBACxFlH,OAAA;IAAK0J,SAAS,EAAC,mEAAmE;IAAAC,QAAA,gBAC9E3J,OAAA;MAAK0J,SAAS,EAAC,wCAAwC;MAAAC,QAAA,gBACnD3J,OAAA;QAAI0J,SAAS,EAAC,mBAAmB;QAAAC,QAAA,EAAC;MAAK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC5C/J,OAAA;QACI0J,SAAS,EAAC,2CAA2C;QACrDM,OAAO,EAAElD,aAAc;QAAA6C,QAAA,EAC1B;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC,eAEN/J,OAAA;MAAK0J,SAAS,EAAC,kCAAkC;MAAAC,QAAA,EAC5CrF,QAAQ,CAACpD,GAAG,CAAC0G,CAAC,iBACX5H,OAAA;QAEIgK,OAAO,EAAEA,CAAA,KAAMP,aAAa,CAAC7B,CAAC,CAAChB,EAAE,CAAE;QACnC8C,SAAS,EAAE,8BAA8B9B,CAAC,CAAChB,EAAE,KAAKpC,gBAAgB,GACxD,4BAA4B,GAC5B,4BAA4B,EAC/B;QAAAmF,QAAA,eAEP3J,OAAA;UAAK0J,SAAS,EAAC,mCAAmC;UAAAC,QAAA,gBAC9C3J,OAAA;YAAA2J,QAAA,EAAO/B,CAAC,CAACZ;UAAI;YAAA4C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACrB/J,OAAA;YACI0J,SAAS,EAAC,cAAc;YACxBM,OAAO,EAAGlB,CAAC,IAAK;cACZA,CAAC,CAACmB,eAAe,CAAC,CAAC;cACnB/C,aAAa,CAACU,CAAC,CAAChB,EAAE,CAAC;YACvB,CAAE;YAAA+C,QAAA,EACL;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR;MAAC,GAlBDnC,CAAC,CAAChB,EAAE;QAAAgD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAmBR,CACR;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CACR;;EAED;EACA;EACA;EACA,MAAMG,MAAM,GAAGA,CAAA;IAAA,IAAAC,cAAA;IAAA,oBACXnK,OAAA;MAAK0J,SAAS,EAAC,sEAAsE;MAAAC,QAAA,gBACjF3J,OAAA;QACI0J,SAAS,EAAC,oCAAoC;QAC9CM,OAAO,EAAEA,CAAA,KAAM3E,gBAAgB,CAAC,CAACD,aAAa,CAAE;QAAAuE,QAAA,EACnD;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAET/J,OAAA;QAAI0J,SAAS,EAAC,mBAAmB;QAAAC,QAAA,EAAC;MAAO;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC9C/J,OAAA;QAAK0J,SAAS,EAAC,oCAAoC;QAAAC,QAAA,GAAC,WACvC,EAAC,EAAAQ,cAAA,GAAA7F,QAAQ,CAAC8F,IAAI,CAACxC,CAAC,IAAIA,CAAC,CAAChB,EAAE,KAAKpC,gBAAgB,CAAC,cAAA2F,cAAA,uBAA7CA,cAAA,CAA+CnD,IAAI,KAAI,EAAE;MAAA;QAAA4C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA,CACT;;EAED;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;EACA,MAAMM,aAAa,GAAGA,CAAC;IAAElJ,GAAG;IAAEiI;EAAM,CAAC,KAAK;IACtC,MAAMkB,MAAM,GAAGnJ,GAAG,CAACE,MAAM,KAAK,MAAM;IAEpC,oBACIrB,OAAA;MAAK0J,SAAS,EAAE,oBAAoBY,MAAM,GAAG,aAAa,GAAG,eAAe,EAAG;MAAAX,QAAA,eAC3E3J,OAAA;QACI0J,SAAS,EAAE;AAC3B;AACA,sBAAsBY,MAAM,GACF,yCAAyC,GACzC,2CAA2C;AACrE,iBAAkB;QAAAX,QAAA,gBAEF3J,OAAA;UAAG0J,SAAS,EAAC,qBAAqB;UAAAC,QAAA,EAAExI,GAAG,CAACI;QAAI;UAAAqI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAGhD,CAACO,MAAM,iBACJtK,OAAA;UACI0J,SAAS,EAAC,uCAAuC;UACjDM,OAAO,EAAEA,CAAA,KAAMZ,KAAK,CAACjI,GAAG,CAACI,IAAI,CAAE;UAAAoI,QAAA,EAClC;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACX;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAEd,CAAC;;EAED;EACA;EACA;EACA,MAAMQ,eAAe,GAAGA,CAAA,kBACpBvK,OAAA;IAAK0J,SAAS,EAAC,yBAAyB;IAAAC,QAAA,eACpC3J,OAAA;MAAK0J,SAAS,EAAC,iEAAiE;MAAAC,QAAA,EAAC;IAEjF;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CACR;;EAED;EACA;EACA;EACA,oBACI/J,OAAA;IAAK0J,SAAS,EAAC,0CAA0C;IAAAC,QAAA,gBAErD3J,OAAA,CAACkK,MAAM;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAEV/J,OAAA;MAAK0J,SAAS,EAAC,oCAAoC;MAAAC,QAAA,gBAG/C3J,OAAA;QAAK0J,SAAS,EAAC,iBAAiB;QAAAC,QAAA,eAC5B3J,OAAA,CAACwJ,OAAO;UACJlF,QAAQ,EAAEA,QAAS;UACnBE,gBAAgB,EAAEA,gBAAiB;UACnCiF,aAAa,EAAG7C,EAAE,IAAK;YACnBnC,mBAAmB,CAACmC,EAAE,CAAC;YACvBlC,YAAY,CAACmC,OAAO,CAACxD,sBAAsB,EAAEuD,EAAE,CAAC;UACpD,CAAE;UACFE,aAAa,EAAEA,aAAc;UAC7BI,aAAa,EAAEA;QAAc;UAAA0C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,EAGL3E,aAAa,iBACVpF,OAAA;QAAK0J,SAAS,EAAC,qDAAqD;QAAAC,QAAA,eAChE3J,OAAA;UAAK0J,SAAS,EAAC,0DAA0D;UAAAC,QAAA,eACrE3J,OAAA,CAACwJ,OAAO;YACJlF,QAAQ,EAAEA,QAAS;YACnBE,gBAAgB,EAAEA,gBAAiB;YACnCiF,aAAa,EAAG7C,EAAE,IAAK;cACnBnC,mBAAmB,CAACmC,EAAE,CAAC;cACvBvB,gBAAgB,CAAC,KAAK,CAAC;cACvBX,YAAY,CAACmC,OAAO,CAACxD,sBAAsB,EAAEuD,EAAE,CAAC;YACpD,CAAE;YACFE,aAAa,EAAEA,CAAA,KAAM;cACjBA,aAAa,CAAC,CAAC;cACfzB,gBAAgB,CAAC,KAAK,CAAC;YAC3B,CAAE;YACF6B,aAAa,EAAEA;UAAc;YAAA0C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CACR,eAGD/J,OAAA;QAAK0J,SAAS,EAAC,sCAAsC;QAAAC,QAAA,gBAEjD3J,OAAA;UAAK0J,SAAS,EAAC,kCAAkC;UAAAC,QAAA,GAC5C/E,QAAQ,CAAC1D,GAAG,CAAEC,GAAG,iBACdnB,OAAA,CAACqK,aAAa;YAAclJ,GAAG,EAAEA,GAAI;YAACiI,KAAK,EAAEA;UAAM,GAA/BjI,GAAG,CAACyF,EAAE;YAAAgD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAA2B,CACxD,CAAC,EAED/E,QAAQ,iBAAIhF,OAAA,CAACuK,eAAe;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAEhC/J,OAAA;YAAKuD,GAAG,EAAEoC;UAAc;YAAAiE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1B,CAAC,eAGN/J,OAAA;UAAK0J,SAAS,EAAC,oFAAoF;UAAAC,QAAA,gBAE/F3J,OAAA;YACIgK,OAAO,EAAEd,cAAe;YACxBsB,QAAQ,EAAE,CAAChF,QAAS;YACpBkE,SAAS,EAAC,iDAAiD;YAC3De,KAAK,EAAC,eAAe;YAAAd,QAAA,EACxB;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAGT/J,OAAA;YACI0K,IAAI,EAAC,MAAM;YACXC,WAAW,EAAC,iBAAiB;YAC7BjB,SAAS,EAAC,oEAAoE;YAC9EzG,KAAK,EAAE6B,KAAM;YACb8F,QAAQ,EAAG9B,CAAC,IAAK/D,QAAQ,CAAC+D,CAAC,CAAC+B,MAAM,CAAC5H,KAAK,CAAE;YAC1C6H,SAAS,EAAGhC,CAAC,IAAK;cACd,IAAIA,CAAC,CAACiC,GAAG,KAAK,OAAO,EAAEhD,UAAU,CAAC,CAAC;YACvC;UAAE;YAAA6B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eAGF/J,OAAA;YACIgK,OAAO,EAAEA,CAAA,KAAMjC,UAAU,CAAC,CAAE;YAC5B2B,SAAS,EAAC,uDAAuD;YAAAC,QAAA,EACpE;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEV,CAAC,CAAC;;AAEF;AACA;AACA;AAAAlG,EAAA,CArdwBD,GAAG;AAAAoH,EAAA,GAAHpH,GAAG;AAAA,IAAAoH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}